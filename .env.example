# =============================================================================
# American Iron Hub Pro - Environment Configuration Template
# =============================================================================
# Copy this file to .env.local for development or .env.production for production
# NEVER commit files containing actual secrets to version control

# -----------------------------------------------------------------------------
# Environment Mode
# -----------------------------------------------------------------------------
# NODE_ENV: Determines the application environment
# Values: development | production | test
# Default: development
NODE_ENV=production

# VITE_APP_ENV: Custom environment identifier for application logic
# Values: development | staging | production
VITE_APP_ENV=production

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# GEMINI_API_KEY: Google Generative AI API key for AI-powered features
# Required: Yes
# How to obtain: https://ai.google.dev/
# Security: CRITICAL - Rotate immediately if exposed
GEMINI_API_KEY=your_gemini_api_key_here

# VITE_API_URL: Backend API base URL (if using separate backend)
# Default: /api for same-origin requests
# VITE_API_URL=https://api.yourdomain.com

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# DATABASE_URL: PostgreSQL connection string
# Format: postgresql://user:password@host:port/database?schema=public
# Required: Yes (for production deployments with real database)
# Example: postgresql://portal_user:secure_password@localhost:5432/american_iron_portal
DATABASE_URL=postgresql://user:password@localhost:5432/american_iron_portal

# Database Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=5000

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# SESSION_SECRET: Secret key for session signing and encryption
# Required: Yes
# Generate with: openssl rand -base64 32
# Security: CRITICAL - Rotate periodically (every 90 days recommended)
SESSION_SECRET=your_session_secret_here_change_this_in_production

# JWT_SECRET: Secret key for JWT token signing (if using JWT authentication)
# Required: Yes (if JWT auth is enabled)
# Generate with: openssl rand -base64 64
# Security: CRITICAL - Rotate immediately if exposed
JWT_SECRET=your_jwt_secret_here_change_this_in_production

# JWT_EXPIRATION: JWT token expiration time
# Format: Zeit/ms format (e.g., "15m", "1h", "7d")
# Default: 24h
JWT_EXPIRATION=24h

# BCRYPT_ROUNDS: Number of rounds for bcrypt password hashing
# Range: 10-14 (higher = more secure but slower)
# Default: 12
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
# VITE_PUBLIC_URL: Public-facing URL of the application
# Used for: Absolute URLs, redirects, CORS, cookies
# Important: Must match your domain when deployed
VITE_PUBLIC_URL=https://portal.americaniron.com

# BASE_URL: Base path for the application (if not at domain root)
# Default: /
# BASE_URL=/portal

# -----------------------------------------------------------------------------
# Cloudflare & Proxy Configuration
# -----------------------------------------------------------------------------
# TRUST_PROXY: Enable trust of X-Forwarded-* headers from reverse proxies
# Values: true | false
# Required: true when behind Cloudflare or any reverse proxy
TRUST_PROXY=true

# CLOUDFLARE_ENABLED: Enable Cloudflare-specific header handling
# Values: true | false
CLOUDFLARE_ENABLED=true

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# CORS_ORIGIN: Allowed origins for CORS requests
# Format: Single origin or comma-separated list
# Example: https://app.example.com,https://admin.example.com
# Default: Same origin only (most secure for production)
# CORS_ORIGIN=https://portal.americaniron.com

# CORS_CREDENTIALS: Allow credentials (cookies, authorization headers) in CORS requests
# Values: true | false
# Default: false
# CORS_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Security Headers
# -----------------------------------------------------------------------------
# CSP_ENABLED: Enable Content Security Policy
# Values: true | false
# Default: true
CSP_ENABLED=true

# HSTS_MAX_AGE: HTTP Strict Transport Security max age in seconds
# Default: 31536000 (1 year)
# Set to 0 to disable HSTS
HSTS_MAX_AGE=31536000

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
# LOG_LEVEL: Logging verbosity level
# Values: error | warn | info | debug
# Default: info (production), debug (development)
LOG_LEVEL=info

# ENABLE_REQUEST_LOGGING: Log all HTTP requests
# Values: true | false
# Default: true
ENABLE_REQUEST_LOGGING=true

# SENTRY_DSN: Sentry error tracking DSN (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# RATE_LIMIT_ENABLED: Enable rate limiting
# Values: true | false
# Default: true
RATE_LIMIT_ENABLED=true

# RATE_LIMIT_WINDOW_MS: Rate limit time window in milliseconds
# Default: 900000 (15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# RATE_LIMIT_MAX_REQUESTS: Maximum requests per window
# Default: 100
RATE_LIMIT_MAX_REQUESTS=100

# AUTH_RATE_LIMIT_MAX_REQUESTS: Maximum auth attempts per window
# Default: 5
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# -----------------------------------------------------------------------------
# Performance & Caching
# -----------------------------------------------------------------------------
# ENABLE_COMPRESSION: Enable gzip/brotli compression
# Values: true | false
# Default: true
ENABLE_COMPRESSION=true

# STATIC_CACHE_MAX_AGE: Cache-Control max-age for static assets (seconds)
# Default: 31536000 (1 year)
STATIC_CACHE_MAX_AGE=31536000

# API_CACHE_MAX_AGE: Cache-Control max-age for API responses (seconds)
# Default: 0 (no cache for dynamic content)
API_CACHE_MAX_AGE=0

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# PORT: HTTP server port
# Default: 3000
PORT=3000

# HOST: Server bind address
# Default: 0.0.0.0 (all interfaces)
HOST=0.0.0.0

# SERVER_TIMEOUT_MS: Server request timeout in milliseconds
# Default: 30000 (30 seconds)
SERVER_TIMEOUT_MS=30000

# BODY_SIZE_LIMIT: Maximum request body size
# Default: 10mb
BODY_SIZE_LIMIT=10mb

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# ENABLE_AI_FEATURES: Enable/disable AI-powered features
# Values: true | false
# Default: true
ENABLE_AI_FEATURES=true

# ENABLE_EMAIL_NOTIFICATIONS: Enable email notification system
# Values: true | false
# Default: false (requires email service configuration)
ENABLE_EMAIL_NOTIFICATIONS=false

# MAINTENANCE_MODE: Enable maintenance mode (disables most features)
# Values: true | false
# Default: false
MAINTENANCE_MODE=false

# -----------------------------------------------------------------------------
# Email Configuration (Optional - if ENABLE_EMAIL_NOTIFICATIONS=true)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=noreply@americaniron.com
# SMTP_PASSWORD=your_smtp_password
# EMAIL_FROM=noreply@americaniron.com

# -----------------------------------------------------------------------------
# Development Only
# -----------------------------------------------------------------------------
# VITE_ENABLE_DEVTOOLS: Enable React DevTools in production (NOT RECOMMENDED)
# Values: true | false
# Default: false
# VITE_ENABLE_DEVTOOLS=false

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Rotate all secrets immediately after initial deployment
# 2. Use a secrets management system (AWS Secrets Manager, HashiCorp Vault, etc.)
# 3. Never commit .env.local or .env.production to version control
# 4. Limit access to production environment variables to essential personnel only
# 5. Enable audit logging for all secret access
# 6. Set up automated secret rotation policies
# 7. Monitor for exposed secrets using tools like GitGuardian or TruffleHog
# =============================================================================
